<!doctype html>
<html lang="fr">
    <head>
        <title>TP1 GIT</title>

        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="language" content="French">
        <meta name="robots" content="index, follow">
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height" />
        <meta name="description" content="WEB Messenger ligth">
        <meta name="author" content="ðŸ»ï½œLeGrizzly#0341">

        <!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        #  WEB Messenger ligth - TP1 GIT

        #  Developed by    : ðŸ»ï½œLeGrizzly#0341
        #  Design by       : ðŸ»ï½œLeGrizzly#0341

        #  Support         : https://github.com/xalsie/tp1_git/issues
         _                _____          _               _
        | |              / ____|        (_)             | |
        | |        ___  | |  __   _ __   _   ____  ____ | |  _   _
        | |       / _ \ | | |_ | | \__| | | |_  / |_  / | | | | | |
        | |____  |  __/ | |__| | | |    | |  / /   / /  | | | |_| |
        |______|  \___|  \_____| |_|    |_| /___| /___| |_|  \__, |
                                                              __/ |
                                                             |___/
        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~_Update: 15/05/2023_~~-->

        <!-- Bootstrap core CSS -->
        <link href="//cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="/assets/css/style.login.css" rel="stylesheet">

        <!-- Bootstrap core JS -->
        <script type="application/javascript" src="//cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
        <script type="application/javascript" src="//cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"></script>

        <!-- jQuery JS Core-->
        <script type="application/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <!-- Custom styles for this template-->
        <!-- <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script> -->
        <!-- <script>
            var socket = io();
        </script> -->

        <script>
            // var socket = io();
        </script>
    </head>
    <body class="bg-dark">
        <main class="form-signin rounded-6 shadow-lg text-center" style="background-color: #191919;">
            <form method="POST" action="auth">
                <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-decoration-none">
                    <p class="d-flex justify-content-around pt-2 w-100">Super logo du site</p>
                </a>

                <div class="form-floating">
                    <input type="text" class="form-control" id="floatingName" data-value="" required="required" autofocus="autofocus" name="floatingName" minleght="3" maxlength="50">
                </div>

                <div class="alert" style="display: none;">
                    <li style='color:red' class="error-text"></li>
                </div>

                <input class="w-100 btn btn-lg btn-dark btn-login button" type="submit" value="Se connecter">
                <p class="mt-3 mb-1 text-muted">By LeGrizzly &copy;2023 - <a href="changelog" class="fw-lighter text-decoration-none">V1.0.0</a></p>
            </form>

            <script>
                $("form").submit(function(e) {
                    e.preventDefault();

                    var send=$.ajax({
                        method: 'POST',
                        url: '/auth',
                        data: {
                            floatingName: $("#floatingName").val().toLowerCase()
                        }
                    }).done(function(html){
                        if(html == 'true')
                            window.location.href = '/';
                        else {
                            $("div.alert").show();
                            $("li.error-text").html(html);
                        }
                    })
                });
            </script>
        </main>
    </body>
</html>